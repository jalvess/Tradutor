$(document).ready(function(){$("#btn_enviar").on("click",t);$("#btn_add_word").on("click",o);$("#tradutor").on("keyup",d).on("keyup",a);$("#btn-theme").on("click",l);$("#btn_idioma").on("click",i);$("#btn_send_new").on("click",r);$("#translations").on("keyup blur",s);$("#new_word").on("keyup blur",s)});function a(){$("#resultado ul").children().remove();$("#resultado").addClass("hidden")}function t(a){a.preventDefault();$("#status").removeClass("invisible");$("#status").text("Traduzindo...");$.ajax({url:"traduzir",method:"GET",data:$("#form_traduzir").serialize(),success:function(a){var t=a.replace(/[\[\]]/g,"").split(",");$("#status").addClass("invisible");$("#status").text("Enviando...");$("#resultado").removeClass("hidden");t.forEach(function(a){$("#resultado ul").append($("<li />").text(a.trim()))})},error:function(a){console.log(a);if(a.status==415)$("#status").text("Palavra n√£o encontrada");$("#status").addClass("error");setTimeout(function(){$("#status").addClass("invisible");$("#status").removeClass("error");$("#status").text("Enviando...")},6e3)}})}function s(){if($(this).val()==""||$(this).prop("validity").patternMismatch||$(this).prop("validity").valueMissing){if(!$(this).hasClass("input_warning")){$(this).addClass("input_warning")}}else{if($(this).hasClass("input_warning")){$(this).removeClass("input_warning")}}e()}function e(){var a=$("#form_newword")[0].checkValidity();if(!a){n("#btn_send_new",true)}else{n("#btn_send_new",false)}return a}function n(a,t){$(a).prop("disabled",t)}function r(a){a.preventDefault();if(e()){$("#status").removeClass("invisible");n("#btn_send_new",true);$.ajax({url:"traduzir",method:"post",processData:false,data:$("#form_newword").serialize(),success:function(){$("#status").text("Palavra enviada!");$("#status").addClass("success");$("#status").removeClass("carregando");setTimeout(function(){$("#status").text("Enviando...");$("#status").removeClass("success");$("#status").addClass("invisible carregando")},6e3);n("#btn_send_new",false)},error:function(a){if(a.status==415){if($("#new_word").val()==""){$("#new_word").addClass("input_warning")}if($("#translations").val()==""){$("#translations").addClass("input_warning")}}else{$("#status").text("Erro no servidor");$("#status").addClass("error")}}})}}function i(a){a.preventDefault();if($("input[name=from_pt]").prop("checked")){$("#lbl_tradutor").html("Palavra para traduzir do portugu&ecirc;s para o ingl&ecirc;s")}else{$("#lbl_tradutor").html("Palavra para traduzir do ingl&ecirc;s para o portugu&ecirc;s")}$("input[name=from_pt]").prop("checked",!$("input[name=from_pt]").prop("checked"))}function o(){$("#form_newword").toggleClass("hidden");$("#form_traduzir").toggleClass("hidden");if($("#form_newword").hasClass("hidden")){$("#btn_add_word").text("Adicionar uma nova palavra")}else{$("#btn_add_word").text("Ocultar menu de nova palavra")}}function d(){if($(this).val())$("#btn_add_word").addClass("hidden");else $("#btn_add_word").removeClass("hidden")}function l(){$("body, h1, label, .btn, #resultado, #status").toggleClass("dark");if($("body, h1, label, .btn").hasClass("dark")){$("#btn-theme").text("Mudar para Tema Claro")}else{$("#btn-theme").text("Mudar para Tema Escuro")}}